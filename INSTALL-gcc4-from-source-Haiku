How to build gcc-4.3 natively on Haiku:

checkout the buildtools from the haiku repository
cd into the buildtools folder (where this file lives)

declare the current gcc-version-date like this:
	export GCCDATE=100421
(just use the current date instead of '100421')

compile binutils:

	mkdir binutils-obj
	cd binutils-obj
	CFLAGS="-O2" CXXFLAGS="-O2" ../binutils/configure \
		--prefix=/boot/develop/abi/x86/gcc4/tools/gcc-4.3.3-haiku-${GCCDATE} \
		--disable-nls --enable-shared=yes
	make -j2
	cd ..

compile gcc:	

	mkdir gcc-obj
	cd gcc-obj
	CFLAGS="-O2" CXXFLAGS="-O2" ../gcc/configure \
		--prefix=/boot/develop/abi/x86/gcc4/tools/gcc-4.3.3-haiku-${GCCDATE} \
		--enable-shared --enable-languages=c,c++ \
		--disable-nls --without-libiconv-prefix --disable-libstdcxx-pch
	make -j2 bootstrap
	cd ..

Ok, now everything is compiled and ready, waiting to be installed:

	mkdir /boot/develop/abi/x86/gcc4/tools/gcc-4.3.3-haiku-${GCCDATE}
	ln -sfn gcc-4.3.3-haiku-${GCCDATE} /boot/develop/abi/x86/gcc4/tools/current
	cd binutils-obj
	make install
	cd ..
	cd gcc-obj
	make install
	cd ..
	
Please send questions & bug-reports to: Oliver Tappe <gcc@hirschkaefer.de>
