How to build gcc-2.95.3 for BeOS:

cd into the buildtools/legacy folder

declare the current gcc-version-date like this:
	export GCCDATE=100420
(just use the current date instead of '100420')

compile binutils:

	mkdir binutils-obj
	cd binutils-obj
	CFLAGS="-O2" CXXFLAGS="-O2" ../binutils/configure --prefix=/boot/develop/abi/x86/gcc2/tools/gcc-2.95.3-haiku-${GCCDATE} --disable-nls --enable-shared=yes
	make
	cd ..


compile gcc:

	mkdir gcc-obj
	cd gcc-obj
	CFLAGS="-O2" CXXFLAGS="-O2" ../gcc/configure --prefix=/boot/develop/abi/x86/gcc2/tools/gcc-2.95.3-haiku-${GCCDATE} --disable-nls --enable-shared=yes --enable-languages=c,c++
	make bootstrap
	# the above will fail when compiling builtinbuf.cc, but we can ignore that
	# since it's trying to build libstdc++.so, which haiku provides anyway
	cd ..

Ok, now everything is compiled and ready, waiting to be installed:

	mkdir /boot/develop/abi/x86/gcc2/tools/gcc-2.95.3-haiku-${GCCDATE}
	ln -sfn gcc-2.95.3-haiku-${GCCDATE} \
		/boot/develop/abi/x86/gcc2/tools/current
	cd binutils-obj
	make install
	cd ..
	cd gcc-obj
	make install
	cd ..

Please send questions & bug-reports to: Oliver Tappe <gcc@hirschkaefer.de>
